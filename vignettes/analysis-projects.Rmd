---
title: "Project Planning & Stakeholder Updates"
author: "Emily Riederer"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Analysis Projects}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)

library(ghtrackr)
```


Communicating analytical results is a core part of the data science process. A related but less appreciated task is communcating analysis plans and progress to various stakeholders throughout a project. This need is a recurring theme across disciplines. Lucy D'Agostino McGowan discusses how to lead effective check-ins with dissertation committees in her blog post [One Year to Dissertate](https://livefreeordichotomize.com/2018/09/14/one-year-to-dissertate/) and Jen Thompson describes the central role that "data people" play in project managing cross-functional clinical research teams in her blog post (and related talk) [The Data Person as Project Manager](https://jenthompson.me/2018/10/31/data-person-as-pm/). The same need is also readily apparent in corporate settings where it can be crucial for analysts to articulate how they are spending their time and set expectations on when they can deliver results.

Project management work can sometimes boost productivity and bring benefits, but communcating to stakeholders has significant overhead and can risk stealing time from core job responsibilities. For those "data people" that use R and GitHub, conducting project planning and reporting with the same toolkit can reduce complexity and the inefficiencies of switching between contexts and tools. 

`ghtrackr`'s concepts of "plans" provide an interface for project management. Plans can be created in YAML and delivered to various customers in their preferred format. For the analyst, they can be automatically posted to a GitHub repo as a set of issues and milestones for easy tracking and linking to commits and pull requests. For sharing with senior stakeholders who are not on GitHub, both plans and progress updates can be formatted into aesthetic RMarkdown reports, similar to the examples Lucy's blog shows for meeting agendas and minutes. 

## Planning Your Project

Writing out your plan of attack in YAML lets you focus on key details and allows everything to remain easily editable while you refine your approach.

Recall the example plan discussed in the vignette on custom plans:

```{r comment='', echo = FALSE}
plan_path <- system.file("extdata", "plan.yml", package = "ghtrackr", mustWork = TRUE)
cat(readLines(plan_path), sep = '\n')
```

As described in the custom plans vignette, this could be added to a GitHub repo as issues and milestones with the `post_plan()` function, like this:

```{r eval = FALSE}
plan <- read_plan("plan.yml")
my_repo <- create_repo_ref("emilyriederer", "my_repo_name")
post_plan(plan, my_repo)
```

## Reporting Project Plans and Progress

Meeting minutes or agendas can be added to agendas and minutes, such as Lucy's templates provide, with the `report_` functions. 

```{r}
plan_path <- system.file("extdata", "plan.yml", package = "ghtrackr", mustWork = TRUE)
my_plan <- read_plan(plan_path)
report_plan(my_plan)
```

Similarly, as tasks are completed and their related issues are closed on GitHub, that infromation can be pulled back down from GitHub. The complementary `report_progress()` function reformats GitHub issues for a consistent report of an in-progress plan, 

```{r eval = FALSE}
issues <- 
  get_issues(analysis_repo, state = 'all', since = '2018-12-01') %>% 
  parse_issues() %>%
  filter(issues, milestone_created_at >='2018-12-25' & milestone_created_at <= '2018-12-31') %>%
  arrange(milestone_number)
```

```{r echo = FALSE}
issues <- 
  readRDS(system.file("extdata", "anproj-issues.rds", package = "ghtrackr", mustWork = TRUE))
```

```{r}
report_progress(issues)
```

For some audiences, posted plan data could also be show visually with functions such as `viz_gantt()`, which could plot either time-to-completion data or a Gantt plot based on anticipated milestone due dates.

